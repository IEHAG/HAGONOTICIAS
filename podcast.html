<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎧 HAGO  Radio - Voces Institucionales</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e1e2e, #2d2d44);
            color: white;
            overflow-x: hidden;
        }

        /* 🎵 HEADER CON LOGO */
        .header {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-top: 0.5rem;
        }

        .back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            color: white;
            text-decoration: none;
        }

        /* 🎧 REPRODUCTOR PRINCIPAL */
        .player-container {
            background: #1a1a2e;
            border-radius: 20px;
            margin: 2rem;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .player-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .album-cover {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .track-info h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .track-info p {
            opacity: 0.8;
            font-size: 1.1rem;
        }

        /* 🔊 CONTROLES DE REPRODUCCIÓN */
        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .control-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.5rem;
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .play-btn {
            background: #ff6b35;
            font-size: 2rem;
            width: 80px;
            height: 80px;
        }

        /* 📊 PROGRESS BAR */
        .progress-container {
            margin: 2rem 0;
        }

        .progress-bar {
            height: 8px;
            background: #333;
            border-radius: 4px;
            position: relative;
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b35, #f7931e);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s;
        }

        /* 🔊 CONTROL DE VOLUMEN */
        .volume-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .volume-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .volume-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .volume-slider-container {
            width: 120px;
            position: relative;
        }

        .volume-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #333;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ff6b35;
            cursor: pointer;
            transition: all 0.2s;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ff6b35;
            cursor: pointer;
            border: none;
        }

        /* 🎶 LISTA DE REPRODUCCIÓN */
        .playlist {
            background: #1a1a2e;
            margin: 2rem;
            border-radius: 15px;
            overflow: hidden;
        }

        .playlist-header {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .search-box {
            padding: 0.5rem 1rem;
            border-radius: 25px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: white;
            width: 200px;
        }

        .track-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .track-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #333;
            transition: all 0.3s;
            cursor: pointer;
        }

        .track-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .track-item.playing {
            background: rgba(255, 107, 53, 0.2);
            border-left: 4px solid #ff6b35;
        }

        .track-number {
            width: 30px;
            text-align: center;
            font-weight: bold;
            color: #ff6b35;
        }

        .track-info {
            flex: 1;
            margin-left: 1rem;
        }

        .track-title {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .track-artist {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .track-duration {
            color: #ff6b35;
            font-weight: bold;
        }

        .track-controls {
            display: flex;
            gap: 1rem;
        }

        .track-btn {
            background: none;
            border: none;
            color: #639ad4;
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* 📱 RESPONSIVE */
        @media (max-width: 768px) {
            .player-container { margin: 1rem; }
            .player-header { flex-direction: column; text-align: center; }
            .album-cover { width: 100px; height: 100px; }
            .player-controls { gap: 1rem; }
            .back-btn { position: static; margin-bottom: 1rem; }
            .playlist-header { flex-direction: column; gap: 1rem; }
            .search-box { width: 100%; }
            .volume-controls { flex-direction: column; gap: 0.5rem; }
            .volume-slider-container { width: 80%; }
        }
    </style>
</head>
<body>
    <!-- 🎵 HEADER -->
    <header class="header">
        <a href="index.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Volver
        </a>
        <div class="logo">🎧 HAGO  Radio</div>
        <div class="subtitle">Voces Institucionales - I.E.Héctor Abad Gómez</div>
    </header>

    <!-- 🎧 REPRODUCTOR PRINCIPAL -->
    <div class="player-container">
        <div class="player-header">
            <div class="album-cover">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="track-info">
                <h2 id="currentTitle">Selecciona un artículo</h2>
                <p id="currentArtist">HAGO Radio</p>
            </div>
        </div>

        <!-- 🔊 CONTROLES -->
        <div class="player-controls">
            <button class="control-btn" onclick="previousTrack()">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="control-btn play-btn" onclick="togglePlay()">
                <i class="fas fa-play" id="playIcon"></i>
            </button>
            <button class="control-btn" onclick="nextTrack()">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>

        <!-- 📊 BARRA DE PROGRESO -->
        <div class="progress-container">
            <div class="progress-bar" onclick="seekAudio(event)">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                <span id="currentTime">00:00</span>
                <span id="duration">00:00</span>
            </div>
        </div>

        <!-- 🔊 CONTROL DE VOLUMEN -->
        <div class="volume-controls">
            <button class="volume-btn" id="volumeBtn" onclick="toggleMute()">
                <i class="fas fa-volume-up" id="volumeIcon"></i>
            </button>
            <div class="volume-slider-container">
                <input type="range" min="0" max="1" step="0.01" value="1" class="volume-slider" id="volumeSlider">
            </div>
        </div>
    </div>

    <!-- 🎶 PLAYLIST HAGO Noticias -->
    <div class="playlist">
        <div class="playlist-header">
            <div class="playlist-title">📚 HAGO Radio - Podcast</div>
            <input type="text" class="search-box" placeholder="🔍 Buscar artículo..." onkeyup="searchTracks(this.value)">
        </div>

        <div class="track-list" id="trackList">
            <!-- Las pistas se generarán automáticamente con JavaScript -->
        </div>
    </div>

    <script>
        // 📁 CONFIGURACIÓN DE ARCHIVOS
        const tracks = [
            {
                title: "Artículo 5. Visión",
                artist: "Capítulo 1. Datos generales e identidad de la institución",
                file: "campus/podcast/Artículo 5. Visión.mp3",
                duration: "02:47",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez."
            },
            {
                title: "Artículo 7. Símbolos institucionales",
                artist: "Capítulo 1. Datos generales e identidad de la institución",
                file: "campus/podcast/Artículo 7. Símbolos institucionales.mp3",
                duration: "03:29",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez."
            },
            {
                title: "Artículo 8. El uniforme",
                artist: "Capítulo 1. Datos generales e identidad de la institución",
                file: "campus/podcast/Artículo 8. El uniforme.mp3",
                duration: "02:16",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez"
            },
            {
                title: "Artículo 9. Postulados de la convivencia en la institución educativa",
                artist: "Capítulo 2. Filosofía de la Convivencia en la institución educativa",
                file: "campus/podcast/Artículo 9. Postulados de la convivencia en la institución educativa.mp3",
                duration: "02:45",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez"
            },
            {
                title: "Artículo 15. Prácticas educativas para la promoción de los DDHH Y DHSH",
                artist: "Capítulo 5. Enfoque de derechos",
                file: "campus/podcast/Artículo 15. Prácticas educativas para la promoción de los DDHH Y DHSH.mp3",
                duration: "01:55",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez"
            },
            {
                title: "Artículo 16. Enfoque diferencial",
                artist: "Capítulo 5. Enfoque de derechos",
                file: "campus/podcast/Artículo 16. Enfoque diferencial.mp3",
                duration: "02:12",
                description: "Tomado del Manual de Convivencia Héctor Abad Gómez"
            }
        ];

        // 🔧 FUNCIONES DEL REPRODUCTOR
        let currentTrack = 0;
        let isPlaying = false;
        let audioPlayer = null;
        let isMuted = false;
        let savedVolume = 1;

        // Generar la lista de pistas desde el array
        function renderTrackList() {
            const trackList = document.getElementById('trackList');
            trackList.innerHTML = '';
            
            tracks.forEach((track, index) => {
                const trackItem = document.createElement('div');
                trackItem.className = 'track-item';
                trackItem.setAttribute('data-index', index);
                trackItem.onclick = () => playTrack(index);
                
                trackItem.innerHTML = `
                    <div class="track-number">${(index + 1).toString().padStart(2, '0')}</div>
                    <div class="track-info">
                        <div class="track-title">${track.title}</div>
                        <div class="track-artist">${track.artist}</div>
                    </div>
                    <div class="track-duration">${track.duration}</div>
                    <div class="track-controls">
                        <button class="track-btn" onclick="event.stopPropagation(); playTrack(${index})">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                `;
                
                trackList.appendChild(trackItem);
            });
        }

        function togglePlay() {
            if (!audioPlayer) {
                playTrack(currentTrack);
                return;
            }
            
            const playBtn = document.getElementById('playIcon');
            isPlaying = !isPlaying;
            playBtn.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
            
            if (isPlaying) {
                audioPlayer.play().catch(e => {
                    console.log('Error al reproducir:', e);
                });
            } else {
                audioPlayer.pause();
            }
        }

        function playTrack(index) {
            currentTrack = index;
            const track = tracks[index];
            
            // Actualizar info del reproductor
            document.getElementById('currentTitle').textContent = track.title;
            document.getElementById('currentArtist').textContent = track.artist;
            document.getElementById('duration').textContent = track.duration;
            
            // Actualizar estado visual de la lista
            updateTrackListUI();
            
            // Crear/actualizar reproductor de audio
            if (audioPlayer) {
                audioPlayer.pause();
            }
            
            audioPlayer = new Audio(track.file);
            audioPlayer.volume = document.getElementById('volumeSlider').value;
            
            audioPlayer.addEventListener('loadedmetadata', () => {
                document.getElementById('duration').textContent = formatTime(audioPlayer.duration);
            });
            
            audioPlayer.addEventListener('timeupdate', updateProgress);
            audioPlayer.addEventListener('ended', nextTrack);
            
            // Reproducir si estaba en play
            if (isPlaying) {
                audioPlayer.play().catch(e => {
                    console.log('Error al reproducir audio:', e);
                    alert('No se pudo reproducir el audio. Verifica que el archivo existe.');
                });
                document.getElementById('playIcon').className = 'fas fa-pause';
            }
        }

        function updateProgress() {
            if (audioPlayer && audioPlayer.duration) {
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                document.getElementById('progressFill').style.width = `${progress}%`;
                
                const currentTime = formatTime(audioPlayer.currentTime);
                document.getElementById('currentTime').textContent = currentTime;
            }
        }

        function seekAudio(event) {
            if (!audioPlayer) return;
            
            const progressBar = document.querySelector('.progress-bar');
            const clickPosition = event.clientX - progressBar.getBoundingClientRect().left;
            const progressBarWidth = progressBar.offsetWidth;
            const seekTime = (clickPosition / progressBarWidth) * audioPlayer.duration;
            
            audioPlayer.currentTime = seekTime;
            updateProgress();
        }

        function previousTrack() {
            currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
            playTrack(currentTrack);
            if (isPlaying) {
                audioPlayer.play();
            }
        }

        function nextTrack() {
            currentTrack = (currentTrack + 1) % tracks.length;
            playTrack(currentTrack);
            if (isPlaying) {
                audioPlayer.play();
            }
        }

        function formatTime(seconds) {
            if (isNaN(seconds)) return "00:00";
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateTrackListUI() {
            const trackItems = document.querySelectorAll('.track-item');
            trackItems.forEach((item, index) => {
                if (index === currentTrack) {
                    item.classList.add('playing');
                } else {
                    item.classList.remove('playing');
                }
            });
        }

        function searchTracks(query) {
            const list = document.getElementById('trackList');
            const items = list.querySelectorAll('.track-item');

            items.forEach((item, idx) => {
                const title  = tracks[idx].title.toLowerCase();
                const artist = tracks[idx].artist.toLowerCase();
                const match  = title.includes(query.toLowerCase()) ||
                               artist.includes(query.toLowerCase());
                
                item.style.display = match ? 'flex' : 'none';
            });
        }

        // 🔊 FUNCIONES DE CONTROL DE VOLUMEN
        function toggleMute() {
            if (!audioPlayer) return;
            
            const volumeIcon = document.getElementById('volumeIcon');
            const volumeSlider = document.getElementById('volumeSlider');
            
            isMuted = !isMuted;
            
            if (isMuted) {
                savedVolume = audioPlayer.volume;
                audioPlayer.volume = 0;
                volumeSlider.value = 0;
                volumeIcon.className = 'fas fa-volume-mute';
            } else {
                audioPlayer.volume = savedVolume;
                volumeSlider.value = savedVolume;
                updateVolumeIcon(savedVolume);
            }
        }

        function updateVolumeIcon(volume) {
            const volumeIcon = document.getElementById('volumeIcon');
            
            if (volume === 0) {
                volumeIcon.className = 'fas fa-volume-mute';
            } else if (volume < 0.5) {
                volumeIcon.className = 'fas fa-volume-down';
            } else {
                volumeIcon.className = 'fas fa-volume-up';
            }
        }

        function setupVolumeControl() {
            const volumeSlider = document.getElementById('volumeSlider');
            
            volumeSlider.addEventListener('input', function() {
                if (!audioPlayer) return;
                
                const volume = parseFloat(this.value);
                audioPlayer.volume = volume;
                
                // Actualizar icono según el nivel de volumen
                updateVolumeIcon(volume);
                
                // Actualizar estado de mute
                if (volume === 0) {
                    isMuted = true;
                } else {
                    isMuted = false;
                    savedVolume = volume;
                }
            });
        }

        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', function() {
            renderTrackList();
            playTrack(0);
            isPlaying = false;
            setupVolumeControl();
        });
    </script>
</body>
</html>